!function(t,e){t=t||{},"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,Y="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,Z=Y.document;function Swipe(s,a){"use strict";function e(){}function n(t){return!!t&&("boolean"!=typeof t.cancelable||t.cancelable)}var o,t,r={},u={},l=(a=a||{}).auto||0,i=!1,d=function(t){setTimeout(t||e,0)};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});var c={addEventListener:!!Y.addEventListener,passiveEvents:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});Y.addEventListener("testEvent",null,t),Y.removeEventListener("testEvent",null,t)}catch(t){e=!1}return e}(),touch:"ontouchstart"in Y||Y.DocumentTouch&&Z instanceof DocumentTouch,transitions:function(t){var e,n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(e in n)if(void 0!==t.style[n[e]])return!0;return!1}(Z.createElement("swipe"))};if(s){var v,h,p,f,m,E,g=s.children[0],y=parseInt(a.startSlide,10)||0,b=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var x,T,L=(x="direction",s.currentStyle?T=s.currentStyle[x]:Y.getComputedStyle&&(T=Y.getComputedStyle(s,null).getPropertyValue(x)),"rtl"===T?"right":"left");a.autoRestart=void 0!==a.autoRestart&&a.autoRestart,a.partial=void 0!==a.partial&&a.partial;var w=function(n,i){i=i||100;var o=null;function r(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;r(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=r,t}(k),D={handleEvent:function(t){if(!i||"resize"===t.type){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":w()}a.stopPropagation&&t.stopPropagation()}},start:function(t){var e=W(t)?t:t.touches[0];a.ignore&&e.target.matches(a.ignore)||(W(t)&&t.preventDefault(),r={x:e.pageX,y:e.pageY,time:+new Date},o=void 0,u={},W(t)?(g.addEventListener("mousemove",this,!1),g.addEventListener("mouseup",this,!1),g.addEventListener("mouseleave",this,!1)):(g.addEventListener("touchmove",this,!!c.passiveEvents&&{passive:!1}),g.addEventListener("touchend",this,!1)),e=P(),t=v[y],a.dragStart&&a.dragStart(e,t))},move:function(t){var e;if(W(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;a.disableScroll&&n(t)&&t.preventDefault(),e=t.touches[0]}u={x:e.pageX-r.x,y:e.pageY-r.y},void 0===o&&(o=!!(o||Math.abs(u.x)<Math.abs(u.y))),o||(n(t)&&t.preventDefault(),X(),a.continuous?(I(O(y-1),u.x+h[O(y-1)],0),I(y,u.x+h[y],0),I(O(y+1),u.x+h[O(y+1)],0)):(u.x=u.x/(!y&&0<u.x||y===v.length-1&&u.x<0?Math.abs(u.x)/p+1:1),I(y-1,u.x+h[y-1],0),I(y,u.x+h[y],0),I(y+1,u.x+h[y+1],0)))},end:function(t){var e=+new Date-r.time,n=Number(e)<250&&20<Math.abs(u.x)||Math.abs(u.x)>p/2,i=!y&&0<u.x||y===v.length-1&&u.x<0;a.continuous&&(i=!1);e=Math.abs(u.x)/u.x;o||(n&&!i?(y=e<0?(a.continuous?(C(O(y-1),-p,0),C(O(y+2),p,0)):C(y-1,-p,0),a.partial?(C(O(y-1),4<v.length?-m.hidden:m.hidden,0),C(O(y-2),m.hidden,0),C(O(y+2),3<v.length?m.hidden:-m.hidden,0),C(y,m.prev,b),C(O(y+1),m.middle,b),(y<f-2||a.continuous)&&C(O(y+2),m.next,3<v.length?b:0)):(C(y,h[y]-p,b),C(O(y+1),h[O(y+1)]-p,b)),O(y+1)):(a.continuous?(C(O(y+1),p,0),C(O(y-2),-p,0)):C(y+1,p,0),a.partial?(C(O(y+1),4<v.length?m.hidden:-m.hidden,0),C(O(y-2),3<v.length?-m.hidden:m.hidden,0),C(O(y-3),-m.hidden,0),C(y,m.next,b),(1<y||a.continuous)&&C(O(y-2),m.prev,3<v.length?b:0),C(O(y-1),m.middle,b)):(C(y,h[y]+p,b),C(O(y-1),h[O(y-1)]+p,b)),O(y-1)),A(P(),v[y],e)):a.continuous&&!a.partial?(C(O(y-1),-p,b),C(y,0,b),C(O(y+1),p,b)):a.partial?((0<y||a.continuous)&&C(O(y-1),m.prev,b),C(y,m.middle,b),(y<f-1||a.continuous)&&C(O(y+1),m.next,b)):(C(y-1,-p,b),C(y,0,b),C(y+1,p,b))),W(t)?(g.removeEventListener("mousemove",D,!1),g.removeEventListener("mouseup",D,!1),g.removeEventListener("mouseleave",D,!1)):(g.removeEventListener("touchmove",D,!!c.passiveEvents&&{passive:!1}),g.removeEventListener("touchend",D,!1)),e=P(),t=v[y],a.dragEnd&&a.dragEnd(e,t)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===y&&((l||a.autoRestart)&&Q(),j(P(),v[y]))}};return k(),N(),{setup:k,slide:function(t,e){X(),R(t,e)},prev:function(){X(),i||(a.continuous||y)&&R(y-1)},next:function(){X(),z()},restart:Q,stop:X,getPos:P,disable:function(){X(),i=!0},enable:function(){i=!1,Q()},getNumSlides:function(){return f},kill:function(){X(),s.style.visibility="",g.style.width="",g.style[L]="";var t=v.length;for(;t--;){c.transitions&&I(t,0,0);var e=v[t];e.getAttribute("data-cloned")&&e.parentElement.removeChild(e),e.style.width="",e.style[L]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}S(),w.cancel()}}}function S(){c.addEventListener?(g.removeEventListener("touchstart",D,!!c.passiveEvents&&{passive:!0}),g.removeEventListener("mousedown",D,!1),g.removeEventListener("webkitTransitionEnd",D,!1),g.removeEventListener("msTransitionEnd",D,!1),g.removeEventListener("oTransitionEnd",D,!1),g.removeEventListener("otransitionend",D,!1),g.removeEventListener("transitionend",D,!1),Y.removeEventListener("resize",D,!1)):Y.onresize=null}function M(t){t=t.cloneNode(!0);g.appendChild(t),t.setAttribute("data-cloned",!0),t.removeAttribute("id")}function k(t){if(null!=t)for(var e in t)a[e]=t[e];v=g.children,f=v.length;for(var n=0;n<v.length;n++)v[n].getAttribute("data-cloned")&&f--;if(v.length<2&&(a.continuous=!1,a.partial=!1),c.transitions&&a.continuous&&v.length<3&&(M(v[0]),M(v[1]),v=g.children),"right"===L)for(var i=0;i<v.length;i++)v[i].style.float="right";h=new Array(v.length),E=s.getBoundingClientRect().width||s.offsetWidth,p=a.partial?.9*E:E,g.style.width=v.length*p*2+"px",m={hidden:E,prev:.9*-p,middle:.05*p,next:p};for(var o=v.length;o--;){var r=v[o];r.style.width=p+"px",r.setAttribute("data-index",o),c.transitions&&(r.style[L]=o*-p+"px",a.partial?C(o,m.hidden,0):C(o,o<y?-p:y<o?p:0,0))}a.continuous&&c.transitions&&(C(O(y-1),-p,0),C(O(y+1),p,0)),a.partial&&(C(O(y-2),4<f?-m.hidden:m.hidden,0),a.continuous&&C(O(y-1),m.prev,0),C(y,m.middle,0),C(O(y+1),m.next,0)),c.transitions||(g.style[L]=y*-p+"px"),s.style.visibility="visible",S(),c.addEventListener?(c.touch&&g.addEventListener("touchstart",D,!!c.passiveEvents&&{passive:!0}),a.draggable&&g.addEventListener("mousedown",D,!1),c.transitions&&(g.addEventListener("webkitTransitionEnd",D,!1),g.addEventListener("msTransitionEnd",D,!1),g.addEventListener("oTransitionEnd",D,!1),g.addEventListener("otransitionend",D,!1),g.addEventListener("transitionend",D,!1)),Y.addEventListener("resize",D,!1)):Y.onresize=w}function z(){i||(a.continuous||y<v.length-1)&&R(y+1)}function A(t,e,n){a.callback&&a.callback(t,e,n)}function j(t,e){a.transitionEnd&&a.transitionEnd(t,e)}function O(t){return(v.length+t%v.length)%v.length}function P(){var t=y;return f<=t&&(t-=f),t}function R(t,e){if(t="number"!=typeof t?parseInt(t,10):t,y!==t){if(c.transitions){var n,i=Math.abs(y-t)/(y-t);if(a.continuous&&(n=i,(i=-h[O(t)]/p)===n||a.partial||(t=-i*v.length+t)),!a.partial)for(var o=Math.abs(y-t)-1;o--;)C(O((y<t?t:y)-o-1),p*i,0);t=O(t),a.partial?-1===i?(C(O(y-1),4<v.length?-m.hidden:m.hidden,0),3<f&&(C(O(y-2),m.hidden,0),C(O(y+2),m.hidden,0)),C(y,m.prev,e||b),C(t,m.middle,e||b),(t<f-1||a.continuous)&&C(O(y+2),m.next,4<f?e||b:0)):(C(O(y+1),4<v.length?m.hidden:-m.hidden,0),3<f&&(C(O(y-2),-m.hidden,0),C(O(y-3),-m.hidden,0)),C(y,m.next,e||b),C(t,m.middle,e||b),(0<t||a.continuous)&&C(O(t-1),m.prev,4<f?e||b:0)):(C(y,p*i,e||b),C(t,0,e||b),a.continuous&&C(O(t-i),-p*i,0),C(y,p*i,e||b),C(t,0,e||b))}else t=O(t),function(e,n,i){if(!i)return g.style[L]=n+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return g.style[L]=n+"px",(l||a.autoRestart)&&Q(),j(P(),v[y]),void clearInterval(r);g.style[L]=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(y*-p,t*-p,e||b);y=t,d(function(){A(P(),v[y],i)})}}function C(t,e,n){I(t,e,n),h[t]=e}function I(t,e,n){t=v[t],t=t&&t.style;t&&(t.webkitTransitionDuration=t.MozTransitionDuration=t.msTransitionDuration=t.OTransitionDuration=t.transitionDuration=n+"ms",t.webkitTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform="translateX("+e+"px)")}function N(){(l=a.auto||0)&&(t=setTimeout(z,l))}function X(){l=0,clearTimeout(t)}function Q(){X(),N()}function W(t){return/^mouse/.test(t.type)}}return(Y.jQuery||Y.Zepto)&&((e=Y.jQuery||Y.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});